<!DOCTYPE html>
<html xmlns:th="http://www.thymeLeaf.org" xmlns:sec="http://www.thymeLeaf.org/thymeLeaf-extras-springsecurity5">


<head>
  <meta charset="UTF-8">
  <title>Homepage</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">

</head>

<body>
  <div th:replace="@{fragment/navbar}"></div>
  <div class="form">
    <div>
      <h1 style="text-align:center"> List of Requests</h1>
    </div>

    <div class="container">
      <table class="table table-striped table-bordered">
        <thead class="thead">

          <tr>
            <th>Name</th> <br>
            <th>Requested Role</th> <br>
            <th>Aadhar Card Number</th>
            <th>Action</th>
          </tr>

        </thead>

        <tbody>
          <tr th:each="request: ${listRequests}">

            <td><a th:text="${request.username}" target="_blank" /></td>

            <td th:text="${request.rolename}"></td>

            <td th:text="${request.idf}"></td>

            <td>

              <div>
                <form th:action="@{/approve/{id}(id=${request.request_id})}" method="post"><button type="submit"
                    class="btn btn-primary">Approve</button></form>
              </div>

              <div>
                <form th:action="@{/deny/{id}(id=${request.request_id})}" method="post"><button type="submit"
                    class="btn btn-primary">Deny</button></form>
              </div>
            </td>

          </tr>
        </tbody>

      </table>
    </div>
  </div>
</body>

</html>